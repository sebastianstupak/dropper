{
  "permissions": {
    "allow": [
      "Bash(ls:*)",
      "Bash(gradle:*)",
      "WebSearch",
      "Bash(curl:*)",
      "Bash(unzip:*)",
      "Bash(./gradle-8.5/bin/gradle wrapper:*)",
      "Bash(java:*)",
      "Bash(dir:*)",
      "Bash(findstr:*)",
      "Bash(./gradlew:*)",
      "Bash(src/web/package.json << 'EOF'\n{\n  \"name\": \"dropper-docs\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Dropper CLI documentation\",\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\"\n  },\n  \"dependencies\": {\n    \"next\": \"^14.1.0\",\n    \"nextra\": \"^3.0.0\",\n    \"nextra-theme-docs\": \"^3.0.0\",\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^20.11.0\",\n    \"@types/react\": \"^18.2.48\",\n    \"@types/react-dom\": \"^18.2.18\",\n    \"typescript\": \"^5.3.3\"\n  }\n}\nEOF)",
      "Bash(src/web/next.config.mjs << 'EOF'\nimport nextra from 'nextra'\n\nconst withNextra = nextra\\({\n  theme: 'nextra-theme-docs',\n  themeConfig: './theme.config.tsx',\n}\\)\n\nexport default withNextra\\({\n  output: 'export',\n  images: {\n    unoptimized: true,\n  },\n}\\)\nEOF)",
      "Bash(src/web/theme.config.tsx << 'EOF'\nimport React from 'react'\nimport { DocsThemeConfig } from 'nextra-theme-docs'\n\nconst config: DocsThemeConfig = {\n  logo: <span>Dropper CLI</span>,\n  project: {\n    link: 'https://github.com/your-org/dropper',\n  },\n  docsRepositoryBase: 'https://github.com/your-org/dropper',\n  footer: {\n    text: 'Dropper CLI - MIT License',\n  },\n}\n\nexport default config\nEOF)",
      "Bash(pnpm install:*)",
      "Bash(src/web/tsconfig.json << 'EOF'\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\n    \"jsx\": \"preserve\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"allowJs\": true,\n    \"strict\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"incremental\": true,\n    \"plugins\": [\n      {\n        \"name\": \"next\"\n      }\n    ]\n  },\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\n  \"exclude\": [\"node_modules\"]\n}\nEOF)",
      "Bash(pnpm dev)",
      "Bash(src/web/pages/index.mdx << 'EOF'\n# Dropper CLI\n\nDropper is a native CLI tool for generating multi-loader Minecraft mod projects.\n\n## Features\n\n- **Multi-Loader Support**: Generate projects that work with Fabric, Forge, and NeoForge\n- **Multi-Version Support**: Support multiple Minecraft versions from a single codebase\n- **Asset Pack System**: Define assets once, reuse across versions with inheritance\n- **Zero Configuration**: Convention over configuration approach\n- **Native Binary**: Fast startup, no JVM required\n\n## Quick Start\n\n```bash\n# Install Dropper\ncurl -fsSL https://dropper.dev/install.sh | sh\n\n# Create a new mod\ndropper init my-mod\n\n# Add version support\ndropper add-version 1.20.1 1.21.1\n\n# Generate content\ndropper generate item ruby_sword\n\n# Build\ncd my-mod\n./gradlew build\n```\n\n## Why Dropper?\n\nTraditional Minecraft mod development requires:\n- ❌ Separate projects for each loader \\(Fabric, Forge, NeoForge\\)\n- ❌ Duplicated code and assets across projects\n- ❌ Manual version updates\n- ❌ Complex build configuration\n\nWith Dropper:\n- ✅ Single codebase for all loaders\n- ✅ Shared code and assets with platform abstraction\n- ✅ Automatic version management\n- ✅ Pre-configured build system\n\n## Next Steps\n\n- [Installation]\\(/installation\\)\n- [Getting Started]\\(/getting-started\\)\n- [Commands]\\(/commands\\)\n- [Architecture]\\(/architecture\\)\nEOF)",
      "Bash(src/web/pages/installation.mdx << 'EOF'\n# Installation\n\nDropper is distributed as a native binary for Linux, macOS, and Windows.\n\n## Quick Install\n\n### Unix \\(Linux/macOS\\)\n\n```bash\ncurl -fsSL https://dropper.dev/install.sh | sh\n```\n\n### Windows \\(PowerShell\\)\n\n```powershell\niwr https://dropper.dev/install.ps1 -useb | iex\n```\n\n## Manual Installation\n\n### Download Binary\n\nDownload the latest release from [GitHub Releases]\\(https://github.com/your-org/dropper/releases\\):\n\n- **Linux \\(x64\\)**: `dropper-linux-amd64`\n- **macOS \\(x64\\)**: `dropper-macos-amd64`\n- **macOS \\(ARM64\\)**: `dropper-macos-arm64`\n- **Windows \\(x64\\)**: `dropper-windows-amd64.exe`\n\n### Add to PATH\n\n#### Unix\n\n```bash\nsudo mv dropper-* /usr/local/bin/dropper\nsudo chmod +x /usr/local/bin/dropper\n```\n\n#### Windows\n\n1. Move `dropper.exe` to `C:\\\\Program Files\\\\Dropper\\\\`\n2. Add to PATH: System Properties → Environment Variables → Path\n\n## Verify Installation\n\n```bash\ndropper --version\n```\n\nShould output:\n```\nDropper 1.0.0\n```\n\n## Requirements\n\n- **No JVM required**: Dropper is a native binary\n- **Disk space**: ~50MB for Dropper binary\n- **For generated projects**: Java 17+ required for building mods\n\n## Next Steps\n\n- [Getting Started]\\(/getting-started\\)\n- [Commands]\\(/commands\\)\nEOF)",
      "Bash(src/cli/src/main/resources/templates/project/config.yml.mustache << 'EOF'\nmod:\n  id: {{modId}}\n  name: \"{{modName}}\"\n  version: \"{{modVersion}}\"\n  description: \"{{modDescription}}\"\n  author: \"{{author}}\"\n  license: \"{{license}}\"\nEOF)",
      "Bash(src/cli/src/main/resources/templates/project/build.gradle.kts.mustache << 'EOF'\nplugins {\n    id\\(\"base\"\\)\n}\n\n// Define repositories for all subprojects\nsubprojects {\n    repositories {\n        mavenCentral\\(\\)\n        maven\\(\"https://maven.fabricmc.net/\"\\)\n        maven\\(\"https://maven.neoforged.net/releases/\"\\)\n        maven\\(\"https://maven.minecraftforge.net/\"\\)\n        maven\\(\"https://libraries.minecraft.net/\"\\)\n    }\n}\n\n// Global clean task\ntasks.clean {\n    delete\\(file\\(\"build\"\\)\\)\n    delete\\(file\\(\"build-temp\"\\)\\)\n}\n\ntasks.register\\(\"buildAll\"\\) {\n    group = \"build\"\n    description = \"Builds all version-loader combinations\"\n    dependsOn\\(subprojects.map { it.tasks.named\\(\"build\"\\) }\\)\n}\nEOF)",
      "Bash(src/cli/src/main/resources/templates/project/settings.gradle.kts.mustache << 'EOF'\npluginManagement {\n    repositories {\n        gradlePluginPortal\\(\\)\n        maven\\(\"https://maven.fabricmc.net/\"\\)\n        maven\\(\"https://maven.neoforged.net/releases/\"\\)\n        maven\\(\"https://maven.minecraftforge.net/\"\\)\n    }\n\n    includeBuild\\(\"build-logic\"\\)\n}\n\nrootProject.name = \"{{modId}}\"\n\n// Dynamically discover version-loader combinations\nval versionsDir = file\\(\"versions\"\\)\nval mcVersions = versionsDir.listFiles\\(\\)\n    ?.filter { it.isDirectory && it.name != \"shared\" }\n    ?.map { it.name }\n    ?: emptyList\\(\\)\n\nval loaders = listOf\\(\"fabric\", \"forge\", \"neoforge\"\\)\n\n// Create subproject for each combination\nmcVersions.forEach { version ->\n    loaders.forEach { loader ->\n        val projectName = \"$version-$loader\"\n        include\\(projectName\\)\n\n        val projectDir = file\\(\"build-temp/$projectName\"\\)\n        project\\(\":$projectName\"\\).projectDir = projectDir\n\n        projectDir.mkdirs\\(\\)\n        val buildFile = File\\(projectDir, \"build.gradle.kts\"\\)\n        if \\(!buildFile.exists\\(\\)\\) {\n            buildFile.writeText\\(\"\"\"\n                plugins {\n                    id\\(\"mod.loader\"\\)\n                }\n            \"\"\".trimIndent\\(\\)\\)\n        }\n    }\n}\nEOF)",
      "Bash(src/cli/src/main/resources/templates/project/README.md.mustache << 'EOF'\n# {{modName}}\n\n{{modDescription}}\n\n## Building\n\n```bash\n./gradlew build\n```\n\nOutput JARs will be in `build/` directory.\n\n## Project Structure\n\n- `shared/` - Cross-loader code\n- `versions/` - Version-specific code and assets\n- `build-logic/` - Gradle build system\n\n## Generated with Dropper\n\nThis project was generated with [Dropper]\\(https://github.com/your-org/dropper\\).\nEOF)",
      "Bash(git remote set-url:*)",
      "Bash(src/cli/src/main/resources/templates/project/AGENTS.md.mustache << 'EOF'\n# Project Structure Guide\n\nThis file explains the structure of your multi-loader Minecraft mod project.\n\n## Overview\n\nThis project uses a **layered architecture** where code and assets are organized by:\n1. **Shared across all versions/loaders** \\(`shared/`\\)\n2. **Versioned asset packs** \\(`versions/shared/v1/`, `v2/`, etc.\\)\n3. **Version-specific** \\(`versions/1_20_1/`, etc.\\)\n4. **Loader-specific** within versions \\(`versions/1_20_1/neoforge/`, etc.\\)\n\n**Key principle**: Files in later layers override earlier layers during build.\n\n## Directory Structure\n\n```\n{{modId}}/\n├── config.yml                    # Mod metadata \\(SINGLE SOURCE OF TRUTH\\)\n├── shared/                       # Version-agnostic code\n│   ├── common/                   # Platform-agnostic \\(*.java + *Test.java\\)\n│   ├── neoforge/                 # NeoForge abstractions\n│   ├── forge/                    # Forge abstractions\n│   └── fabric/                   # Fabric abstractions\n├── versions/\n│   ├── shared/\n│   │   └── v1/                   # Asset pack for MC versions\n│   │       ├── config.yml        # Which MC versions use this\n│   │       ├── common/           # Code for versions \\(all loaders\\)\n│   │       ├── assets/           # Textures, models, etc.\n│   │       └── data/             # Recipes, tags, loot tables\n│   {{#minecraftVersions}}\n│   └── {{.}}/                    # MC version-specific\n│       ├── config.yml            # Version configuration\n│       ├── common/               # Common code for this version\n│       ├── assets/               # Additive to asset pack\n│       ├── data/                 # Additive to asset pack\n│       ├── neoforge/             # NeoForge-specific\n│       ├── fabric/               # Fabric-specific\n│       └── forge/                # Forge-specific\n│   {{/minecraftVersions}}\n├── build-logic/                  # Convention plugins \\(Gradle best practice\\)\n└── build/                        # Generated JARs\n\n```\n\n## Important Concepts\n\n### 1. Asset Pack Inheritance\n- Asset packs \\(like `v1`\\) can be reused across multiple Minecraft versions\n- Build system merges assets: `v1 → version → loader`\n- Later layers override earlier ones\n\n### 2. Java Package Structure\n- Base package: `{{fullPackage}}`\n- All Java files follow proper package structure\n- Build system handles source sets automatically\n\n### 3. Tests Co-located with Code\n- `MyClass.java` and `MyClassTest.java` live in same source set\n- Build system separates them using naming convention \\(`*Test.java`\\)\n\n### 4. Source Layering for Compilation\nFor a specific version-loader \\(e.g., `1_20_1-neoforge`\\), sources are layered:\n```\n1. shared/common/                  \\(all versions, all loaders\\)\n2. shared/neoforge/                \\(all versions, neoforge only\\)\n3. versions/shared/v1/common/      \\(asset pack versions, all loaders\\)\n4. versions/1_20_1/common/         \\(1.20.1 only, all loaders\\)\n5. versions/1_20_1/neoforge/       \\(1.20.1 neoforge only\\)\n```\n\n## Working with This Project\n\n### Adding a New Feature\n\n1. **Determine scope**:\n   - All versions/loaders? → `shared/common/`\n   - All versions in asset pack? → `versions/shared/v1/common/`\n   - Only specific version? → `versions/1_20_1/common/`\n   - Only specific loader? → `versions/1_20_1/neoforge/`\n\n2. **Use Dropper to generate code**:\n   ```bash\n   dropper generate item ruby_sword\n   dropper generate block glass_block\n   ```\n\n### Platform Abstraction Pattern\n\nUse **Java ServiceLoader** for platform-specific code:\n\n```java\n// shared/common - Interface\npublic interface PlatformHelper {\n    String getPlatformName\\(\\);\n    boolean isModLoaded\\(String modId\\);\n}\n\n// shared/neoforge - NeoForge implementation\npublic class NeoForgePlatformHelper implements PlatformHelper {\n    @Override\n    public String getPlatformName\\(\\) { return \"NeoForge\"; }\n}\n\n// Access via Services\nServices.PLATFORM.getPlatformName\\(\\);\n```\n\n## Build Commands\n\n```bash\n# Build everything\n./gradlew build\n\n# Build specific version-loader\n./gradlew :1_20_1-neoforge:build\n\n# Clean build\n./gradlew clean build\n```\n\nOutput JARs: `build/<version>/<loader>.jar`\n\n## Mod Loader Documentation\n\n### Fabric\n- **Wiki**: https://fabricmc.net/wiki/\n- **API Docs**: https://maven.fabricmc.net/docs/\n- **Discord**: https://discord.gg/v6v4pMv\n\n### NeoForge\n- **Docs**: https://docs.neoforged.net/\n- **Discord**: https://discord.neoforged.net/\n\n### Forge\n- **Docs**: https://docs.minecraftforge.net/\n- **Discord**: https://discord.minecraftforge.net/\n\n## Common Patterns\n\n### Registering Items\n```java\n// shared/common/items/MyItem.java\npublic class MyItem extends Item {\n    public MyItem\\(\\) {\n        super\\(new Properties\\(\\)\\);\n    }\n}\n\n// shared/<loader>/ModItems.java\n// Loader-specific registration\n```\n\n### Adding Assets\n```bash\n# Textures\nversions/shared/v1/assets/{{modId}}/textures/item/my_item.png\n\n# Models\nversions/shared/v1/assets/{{modId}}/models/item/my_item.json\n\n# Recipes\nversions/shared/v1/data/{{modId}}/recipes/my_item.json\n```\n\n## Metadata Management\n\n**ALWAYS edit `config.yml`** - do NOT manually edit:\n- `fabric.mod.json`\n- `mods.toml`\n- `META-INF/` files\n\nThese are auto-generated during build from `config.yml`.\n\n## Philosophy\n\nThis structure optimizes for:\n- **Maximum reuse** - Define once, use everywhere\n- **Clear separation** - Each layer has a specific purpose\n- **Maintainability** - Add versions/loaders without touching existing code\n- **Build performance** - Incremental builds, proper caching\n\n**The goal**: Support multiple Minecraft versions across multiple loaders with minimal code duplication.\n\n---\n\nGenerated with [Dropper]\\(https://github.com/sebastianstupak/dropper\\)\nEOF)",
      "Bash(test:*)",
      "Bash(pnpx playwright install:*)",
      "Bash(pnpm test:e2e:*)",
      "Bash(DEVELOPMENT.md << 'EOF'\n# Dropper Development Guide\n\n## Project Structure\n\n```\ndropper/\n├── src/\n│   ├── cli/                    # CLI tool \\(Kotlin + GraalVM\\)\n│   │   ├── src/main/kotlin/    # CLI source code\n│   │   ├── src/main/resources/ # Embedded templates & build-logic\n│   │   └── src/test/kotlin/    # E2E tests\n│   └── web/                    # Documentation site \\(Next.js\\)\n├── examples/\n│   └── ruby-sword/             # Example generated project\n├── scripts/                    # Build & installer scripts\n└── docs/                       # Additional documentation\n```\n\n## Development Setup\n\n### Prerequisites\n\n- Java 21+ \\(for building the CLI\\)\n- GraalVM \\(for native binary compilation\\)\n- pnpm \\(for web development\\)\n\n### Building the CLI\n\n```bash\n# Build JAR\n./gradlew :src:cli:build\n\n# Run via Gradle\n./gradlew :src:cli:run --args=\"init test-mod\"\n\n# Run tests\n./gradlew :src:cli:test\n```\n\n### Building Native Binary\n\n```bash\n# Requires GraalVM\n./gradlew :src:cli:nativeCompile\n\n# Binary will be at:\n# src/cli/build/native/nativeCompile/dropper\n```\n\n### Running Tests\n\n```bash\n# Unit tests\n./gradlew :src:cli:test\n\n# E2E tests \\(full project generation\\)\n./gradlew :src:cli:test --tests \"*.E2ETest\"\n```\n\n## Adding New Features\n\n### Adding a New Command\n\n1. Create command in `src/cli/src/main/kotlin/dev/dropper/commands/`\n2. Extend `CliktCommand`\n3. Register in `DropperCLI.kt`\n4. Write tests in `src/cli/src/test/kotlin/`\n\n### Adding New Templates\n\n1. Create template in `src/cli/src/main/resources/templates/`\n2. Use Mustache syntax: `{{variable}}`\n3. Render via `TemplateEngine.render\\(\\)`\n4. Test in E2E tests\n\n### Adding New Generator\n\n1. Create generator in `src/cli/src/main/kotlin/dev/dropper/generator/`\n2. Implement generation logic\n3. Add corresponding command\n4. Write E2E tests\n\n## Code Guidelines\n\n- **Kotlin style**: Follow Kotlin conventions\n- **Testing**: E2E tests for all generators\n- **Templates**: Use Mustache for all file generation\n- **Errors**: Clear, actionable error messages\n- **Logging**: Use `Logger.success\\(\\)`, `Logger.info\\(\\)`, `Logger.error\\(\\)`\n\n## Release Process\n\n1. Update version in `build.gradle.kts`\n2. Tag release: `git tag v1.0.0`\n3. Push: `git push --tags`\n4. GitHub Actions will build native binaries\n5. Create GitHub release with binaries\n\n## Testing Generated Projects\n\n```bash\n# Generate test project\n./gradlew :src:cli:run --args=\"init test-mod --name 'Test' --author 'Test' --description 'Test' --versions '1.20.1' --loaders 'fabric'\"\n\n# Build generated project\ncd test-mod\n./gradlew build\n```\n\n## Architecture\n\nSee [DROPPER_ARCHITECTURE.md]\\(DROPPER_ARCHITECTURE.md\\) for detailed architecture.\nEOF)",
      "Bash(cat:*)",
      "Bash(pnpm add:*)",
      "Bash(chmod:*)",
      "Bash([ -d node_modules ])",
      "Bash(echo:*)",
      "WebFetch(domain:minecraft.fandom.com)",
      "WebFetch(domain:minecraft.wiki)",
      "Bash(magick:*)",
      "Bash(convert:*)",
      "Bash(pnpm build:*)",
      "Bash(git checkout:*)",
      "Bash(scripts/test-full-workflow.sh:*)",
      "Bash(scripts/test-full-workflow.ps1 << 'EOF'\n# Dropper Full Workflow Test \\(Windows\\)\n\nWrite-Host \"╔═══════════════════════════════════════════════════════════════╗\"\nWrite-Host \"║           Dropper Full Workflow Test                         ║\"\nWrite-Host \"╚═══════════════════════════════════════════════════════════════╝\"\nWrite-Host \"\"\nWrite-Host \"This test will:\"\nWrite-Host \"  1. Generate a test project using Dropper\"\nWrite-Host \"  2. Build the project with Gradle\"\nWrite-Host \"  3. Verify JAR files are created\"\nWrite-Host \"\"\nWrite-Host \"⚠️  This test takes 5-10 minutes as Gradle downloads dependencies\"\nWrite-Host \"\"\n\n# Run the full workflow test\n$env:RUN_FULL_BUILD = \"true\"\n.\\\\gradlew :src:cli:test --tests \"*.FullWorkflowTest.full workflow*\"\n\nWrite-Host \"\"\nWrite-Host \"✓ Full workflow test completed successfully!\"\nEOF)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "WebFetch(domain:github.com)",
      "Bash(git fetch:*)"
    ]
  }
}

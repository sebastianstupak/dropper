# Minecraft Mod JAR Structure Reference

Comprehensive guide to JAR file structure and standards for Minecraft mod loaders across different versions.

## Table of Contents

- [Fabric Loader](#fabric-loader)
  - [Fabric 1.21.1](#fabric-1211)
  - [Fabric 1.20.1](#fabric-1201)
  - [Fabric 1.19.2](#fabric-1192)
  - [Fabric 1.18.2](#fabric-1182)
  - [Fabric 1.16.5](#fabric-1165)
- [NeoForge](#neoforge)
  - [NeoForge 1.21.1](#neoforge-1211)
  - [NeoForge 1.20.1](#neoforge-1201)
- [Forge](#forge)
  - [Forge 1.20.1](#forge-1201)
  - [Forge 1.19.2](#forge-1192)
  - [Forge 1.18.2](#forge-1182)
  - [Forge 1.16.5](#forge-1165)
- [Common Issues and Solutions](#common-issues-and-solutions)
- [Package Structure Best Practices](#package-structure-best-practices)

---

## Fabric Loader

Fabric uses a version-agnostic metadata format controlled by Fabric Loader rather than Minecraft version. The structure is consistent across all Minecraft versions.

### Core Files Location

```
mod.jar
├── META-INF/
│   └── MANIFEST.MF (optional)
├── fabric.mod.json (REQUIRED - root of JAR)
├── <modid>.mixins.json (if using mixins)
├── <modid>.accesswidener (if using access wideners)
├── assets/
│   └── <modid>/
│       ├── icon.png
│       ├── lang/
│       ├── textures/
│       ├── models/
│       └── blockstates/
└── data/
    └── <modid>/
        ├── recipes/
        ├── loot_tables/
        └── tags/
```

### fabric.mod.json Structure

**Schema Version:** Must be `1` for all modern Fabric mods (Fabric Loader 0.4.0+)

**Required Fields:**
- `schemaVersion`: Integer (must be `1`)
- `id`: String (3-64 characters, lowercase letters, numbers, dashes, underscores only)
- `version`: String (semantic versioning recommended)

**Complete Example:**

```json
{
  "schemaVersion": 1,
  "id": "examplemod",
  "version": "1.0.0",
  "name": "Example Mod",
  "description": "This is an example mod",
  "authors": [
    "YourName"
  ],
  "contact": {
    "homepage": "https://example.com",
    "sources": "https://github.com/example/mod",
    "issues": "https://github.com/example/mod/issues"
  },
  "license": "MIT",
  "icon": "assets/examplemod/icon.png",
  "environment": "*",
  "entrypoints": {
    "main": [
      "com.example.examplemod.ExampleMod"
    ],
    "client": [
      "com.example.examplemod.ExampleModClient"
    ],
    "server": [
      "com.example.examplemod.ExampleModServer"
    ]
  },
  "mixins": [
    "examplemod.mixins.json"
  ],
  "accessWidener": "examplemod.accesswidener",
  "depends": {
    "fabricloader": ">=0.14.0",
    "minecraft": "~1.20.1",
    "java": ">=17"
  },
  "suggests": {
    "fabric-api": "*"
  },
  "custom": {
    "modmenu": {
      "badges": ["library"],
      "parent": "parent_mod_id"
    }
  }
}
```

**Important Fields:**

- **environment**: Controls where mod runs
  - `"*"`: Both client and server (default)
  - `"client"`: Client-only
  - `"server"`: Server-only

- **entrypoints**: Define initialization entry points
  - `main`: Common initialization (ModInitializer)
  - `client`: Client-only initialization (ClientModInitializer)
  - `server`: Server-only initialization (DedicatedServerModInitializer)
  - `preLaunch`: Early initialization (PreLaunchEntrypoint)

- **icon**: Path to mod icon (recommended 128×128 PNG, power of two)
  - Can be single path: `"assets/modid/icon.png"`
  - Or size dictionary: `{"128": "path/to/128.png", "64": "path/to/64.png"}`

- **license**: Use SPDX License Identifiers (e.g., "MIT", "Apache-2.0", "GPL-3.0")

### Entrypoint Execution Order

1. **preLaunch** - Earliest possible, before game launch (use with caution)
2. **main** - Common initialization for both client and server
3. **client** / **server** - Side-specific initialization (after main)

### Mixin Configuration

**File Location:** Root of JAR (e.g., `examplemod.mixins.json`)

**Structure:**

```json
{
  "required": true,
  "package": "com.example.examplemod.mixin",
  "compatibilityLevel": "JAVA_17",
  "refmap": "examplemod.refmap.json",
  "mixins": [
    "ExampleMixin"
  ],
  "client": [
    "ExampleClientMixin"
  ],
  "server": [
    "ExampleServerMixin"
  ],
  "injectors": {
    "defaultRequire": 1
  },
  "plugin": "com.example.examplemod.mixin.ExampleMixinPlugin"
}
```

**Key Properties:**
- `package`: Root package where mixins reside (REQUIRED)
- `refmap`: Refmap JSON file name (REQUIRED, auto-generated by Loom)
- `required`: Hard crash if mixin fails to apply (default: false)
- `compatibilityLevel`: Minimum Java version (e.g., JAVA_17, JAVA_21)
- `plugin`: Custom IMixinConfigPlugin implementation

**Refmap Generation:**
- Modern Fabric Loom (1.5+): Uses Tiny Remapper, refmap not included in JAR
- Legacy Loom: Automatic refmap generation via Mixin annotation processor
- Configure in build.gradle: `loom.mixin.useLegacyMixinAp = true` (for legacy)
- Default refmap name can be set: `loom { mixin { defaultRefmapName = "modid.refmap.json" } }`

### Access Widener Configuration

**File Location:** Root of JAR (e.g., `examplemod.accesswidener`)

**Referenced in fabric.mod.json:**
```json
{
  "accessWidener": "examplemod.accesswidener"
}
```

**File Format (v2):**

```
accessWidener v2 named

accessible class net/minecraft/example/ExampleClass
extendable class net/minecraft/example/ExampleClass
mutable field net/minecraft/example/ExampleClass fieldName I

accessible method net/minecraft/example/ExampleClass methodName (Ljava/lang/String;)V
```

**Header:**
- `accessWidener v2 named` - Version 2 with named mappings
- Namespace should always be `named`

**Syntax:**
- Class names separated with `/` not `.`
- Access types: `accessible`, `extendable`, `mutable`
- Method descriptors use JVM format

### Fabric 1.21.1

**Loader Compatibility:** Fabric Loader 0.15.0+
**Java Version:** 21+
**Recommended fabric-api:** 0.100.0+

**fabric.mod.json depends:**
```json
{
  "depends": {
    "fabricloader": ">=0.15.0",
    "minecraft": "~1.21.1",
    "java": ">=21",
    "fabric-api": "*"
  }
}
```

### Fabric 1.20.1

**Loader Compatibility:** Fabric Loader 0.14.0+
**Java Version:** 17+
**Recommended fabric-api:** 0.83.0+

**fabric.mod.json depends:**
```json
{
  "depends": {
    "fabricloader": ">=0.14.0",
    "minecraft": "~1.20.1",
    "java": ">=17",
    "fabric-api": "*"
  }
}
```

### Fabric 1.19.2

**Loader Compatibility:** Fabric Loader 0.14.0+
**Java Version:** 17+
**Recommended fabric-api:** 0.76.0+

**fabric.mod.json depends:**
```json
{
  "depends": {
    "fabricloader": ">=0.14.0",
    "minecraft": "~1.19.2",
    "java": ">=17",
    "fabric-api": "*"
  }
}
```

### Fabric 1.18.2

**Loader Compatibility:** Fabric Loader 0.13.0+
**Java Version:** 17+
**Recommended fabric-api:** 0.67.0+

**fabric.mod.json depends:**
```json
{
  "depends": {
    "fabricloader": ">=0.13.0",
    "minecraft": "~1.18.2",
    "java": ">=17",
    "fabric-api": "*"
  }
}
```

### Fabric 1.16.5

**Loader Compatibility:** Fabric Loader 0.11.0+
**Java Version:** 8+ (16 recommended)
**Recommended fabric-api:** 0.42.0+

**fabric.mod.json depends:**
```json
{
  "depends": {
    "fabricloader": ">=0.11.0",
    "minecraft": "~1.16.5",
    "java": ">=8",
    "fabric-api": "*"
  }
}
```

---

## NeoForge

NeoForge is a community-driven fork of Forge for Minecraft 1.20.4+. Key difference: uses `neoforge.mods.toml` instead of `mods.toml`.

### Core Files Location

```
mod.jar
├── META-INF/
│   ├── MANIFEST.MF (required for dependencies)
│   ├── neoforge.mods.toml (REQUIRED for 1.20.5+)
│   ├── mods.toml (REQUIRED for 1.20.1-1.20.4)
│   ├── accesstransformer.cfg (optional)
│   └── services/
│       └── <service-interface> (ServiceLoader files)
├── pack.mcmeta (optional, for resource pack features)
├── assets/
│   └── <modid>/
│       ├── lang/
│       ├── textures/
│       ├── models/
│       └── blockstates/
└── data/
    └── <modid>/
        ├── recipes/
        ├── loot_tables/
        └── tags/
```

### neoforge.mods.toml Structure

**File Location:** `src/main/resources/META-INF/neoforge.mods.toml`

**Format:** TOML v0.5.0

**Structure:**

```toml
# Mod loader and loader version (REQUIRED)
modLoader="javafml"
loaderVersion="[2,)"

# License (REQUIRED)
license="MIT"

# Issue tracker URL (optional but recommended)
issueTrackerURL="https://github.com/example/mod/issues"

# Show as resource pack (optional)
showAsResourcePack=false

# Mod properties
[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description='''
    This is an example mod for NeoForge.
    Multi-line descriptions are supported.
    '''
    logoFile="logo.png"
    authors="YourName"
    credits="Thanks to everyone!"
    displayURL="https://example.com"

    # Feature flags (optional)
    # featureFlags=["feature_flag_a", "feature_flag_b"]

# Dependency configuration
[[dependencies.examplemod]]
    modId="neoforge"
    type="required"
    versionRange="[21.0,)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.21.1,1.22)"
    ordering="NONE"
    side="BOTH"
```

**Important Sections:**

1. **Non-Mod-Specific Properties** (top-level):
   - `modLoader`: Always `"javafml"` for standard mods
   - `loaderVersion`: NeoForge loader version range
   - `license`: License identifier (REQUIRED)
   - `issueTrackerURL`: Issue tracker URL
   - `showAsResourcePack`: Display in resource pack screen

2. **Mod Properties** (`[[mods]]` blocks):
   - `modId`: Unique mod identifier (REQUIRED)
   - `version`: Mod version (use `${file.jarVersion}` for Gradle integration)
   - `displayName`: Human-readable name
   - `description`: Mod description (multi-line supported)
   - `logoFile`: Path to logo image (relative to resources root)
   - `authors`: Comma-separated author list
   - `credits`: Credits text
   - `displayURL`: Mod website/homepage

3. **Dependencies** (`[[dependencies.<modid>]]` blocks):
   - `modId`: Dependency mod ID
   - `type`: `"required"`, `"optional"`, or `"incompatible"`
   - `versionRange`: Maven version range (e.g., `"[21.0,)"`)
   - `ordering`: `"NONE"`, `"BEFORE"`, or `"AFTER"`
   - `side`: `"BOTH"`, `"CLIENT"`, or `"SERVER"`

### NeoForge 1.21.1

**Loader Version:** `[2,)` (NeoForge 21.1.0+)
**Java Version:** 21+
**File Name:** `META-INF/neoforge.mods.toml`

**Example Configuration:**

```toml
modLoader="javafml"
loaderVersion="[2,)"
license="MIT"
issueTrackerURL="https://github.com/example/mod/issues"

[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description="Example NeoForge 1.21.1 mod"

[[dependencies.examplemod]]
    modId="neoforge"
    type="required"
    versionRange="[21.1,22)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.21.1,1.22)"
    ordering="NONE"
    side="BOTH"
```

### NeoForge 1.20.1

**Loader Version:** `[2,)` (NeoForge 20.1.0+)
**Java Version:** 17+
**File Name:** `META-INF/mods.toml` (Note: uses old filename)

**Important:** NeoForge for 1.20.1 still uses `mods.toml`. The rename to `neoforge.mods.toml` happened in 1.20.5+.

**Example Configuration:**

```toml
modLoader="javafml"
loaderVersion="[2,)"
license="MIT"
issueTrackerURL="https://github.com/example/mod/issues"

[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description="Example NeoForge 1.20.1 mod"

[[dependencies.examplemod]]
    modId="neoforge"
    type="required"
    versionRange="[20.1,21)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.20.1,1.21)"
    ordering="NONE"
    side="BOTH"
```

### NeoForge vs Forge Differences

1. **File Name:**
   - NeoForge 1.20.5+: `META-INF/neoforge.mods.toml`
   - NeoForge 1.20.1-1.20.4: `META-INF/mods.toml`
   - Forge: Always `META-INF/mods.toml`

2. **Dependency Declaration:**
   - NeoForge: `modId="neoforge"`
   - Forge: `modId="forge"`

3. **Loader Version:**
   - NeoForge: `loaderVersion="[2,)"`
   - Forge: Version-specific (see Forge section)

### MANIFEST.MF Requirements

**File Location:** `META-INF/MANIFEST.MF`

For external dependencies to be loaded, they must either:
1. Be mods (have `META-INF/neoforge.mods.toml`)
2. Have `FMLModType` entry in `META-INF/MANIFEST.MF`

**Example MANIFEST.MF:**

```
Manifest-Version: 1.0
FMLModType: LIBRARY
Automatic-Module-Name: com.example.library
```

**FMLModType Values:**
- `LIBRARY`: Dependency library (not a mod)
- `GAMELIBRARY`: Game library
- `LANGPROVIDER`: Language provider

### Access Transformers

**File Location:** `src/main/resources/META-INF/accesstransformer.cfg`

When using default location, no additional configuration needed.

**Format:**

```
public net.minecraft.world.level.block.Block <init>(Lnet/minecraft/world/level/block/state/BlockBehaviour$Properties;)V
public net.minecraft.world.item.Item maxStackSize
```

### ServiceLoader Configuration

**File Location:** `src/main/resources/META-INF/services/<fully-qualified-service-interface>`

**File Name:** Fully-qualified service interface name

**File Content:** Fully-qualified implementation class names (one per line)

**Example:** `META-INF/services/com.example.api.PlatformHelper`
```
com.example.neoforge.NeoforgePlatformHelper
```

---

## Forge

Forge is the original modding API. Uses `mods.toml` in `META-INF/` for all versions.

### Core Files Location

```
mod.jar
├── META-INF/
│   ├── MANIFEST.MF (required for dependencies)
│   ├── mods.toml (REQUIRED)
│   ├── accesstransformer.cfg (optional)
│   └── services/
│       └── <service-interface> (ServiceLoader files)
├── pack.mcmeta (optional)
├── assets/
│   └── <modid>/
│       ├── lang/
│       ├── textures/
│       ├── models/
│       └── blockstates/
└── data/
    └── <modid>/
        ├── recipes/
        ├── loot_tables/
        └── tags/
```

### mods.toml Structure

**File Location:** `src/main/resources/META-INF/mods.toml`

**Format:** TOML v0.5.0

**Structure:**

```toml
# Mod loader and loader version (REQUIRED)
modLoader="javafml"
loaderVersion="[46,)"

# License (REQUIRED)
license="MIT"

# Issue tracker URL (optional)
issueTrackerURL="https://github.com/example/mod/issues"

# Show as resource pack (optional)
showAsResourcePack=false

# Mod properties
[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description='''
    This is an example Forge mod.
    Multi-line descriptions are supported.
    '''
    logoFile="logo.png"
    authors="YourName"
    credits="Thanks to everyone!"
    displayURL="https://example.com"

# Dependency configuration
[[dependencies.examplemod]]
    modId="forge"
    type="required"
    versionRange="[46,)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.20.1,1.21)"
    ordering="NONE"
    side="BOTH"
```

**Key Differences from NeoForge:**
- Dependency uses `modId="forge"` instead of `modId="neoforge"`
- Always uses filename `mods.toml`
- Loader version changes per Minecraft version

### Forge 1.20.1

**Loader Version:** `[46,)`
**Java Version:** 17+
**Forge Version:** 47.0.0+

**Example Configuration:**

```toml
modLoader="javafml"
loaderVersion="[46,)"
license="MIT"
issueTrackerURL="https://github.com/example/mod/issues"

[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description="Example Forge 1.20.1 mod"

[[dependencies.examplemod]]
    modId="forge"
    type="required"
    versionRange="[46,)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.20.1,1.21)"
    ordering="NONE"
    side="BOTH"
```

### Forge 1.19.2

**Loader Version:** `[41,)`
**Java Version:** 17+
**Forge Version:** 43.0.0+

**Example Configuration:**

```toml
modLoader="javafml"
loaderVersion="[41,)"
license="MIT"

[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description="Example Forge 1.19.2 mod"

[[dependencies.examplemod]]
    modId="forge"
    type="required"
    versionRange="[41,)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.19.2,1.20)"
    ordering="NONE"
    side="BOTH"
```

### Forge 1.18.2

**Loader Version:** `[40,)`
**Java Version:** 17+
**Forge Version:** 40.0.0+

**Example Configuration:**

```toml
modLoader="javafml"
loaderVersion="[40,)"
license="MIT"

[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description="Example Forge 1.18.2 mod"

[[dependencies.examplemod]]
    modId="forge"
    type="required"
    versionRange="[40,)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.18.2,1.19)"
    ordering="NONE"
    side="BOTH"
```

### Forge 1.16.5

**Loader Version:** `[36,)`
**Java Version:** 8+ (16 recommended)
**Forge Version:** 36.0.0+

**Example Configuration:**

```toml
modLoader="javafml"
loaderVersion="[36,)"
license="MIT"

[[mods]]
    modId="examplemod"
    version="${file.jarVersion}"
    displayName="Example Mod"
    description="Example Forge 1.16.5 mod"

[[dependencies.examplemod]]
    modId="forge"
    type="required"
    versionRange="[36,)"
    ordering="NONE"
    side="BOTH"

[[dependencies.examplemod]]
    modId="minecraft"
    type="required"
    versionRange="[1.16.5,1.17)"
    ordering="NONE"
    side="BOTH"
```

### Forge Loader Version Summary

| Minecraft Version | Loader Version | Forge Version | Java Version |
|------------------|----------------|---------------|--------------|
| 1.20.1           | `[46,)`        | 47.0.0+       | 17+          |
| 1.19.2           | `[41,)`        | 43.0.0+       | 17+          |
| 1.18.2           | `[40,)`        | 40.0.0+       | 17+          |
| 1.16.5           | `[36,)`        | 36.0.0+       | 8+ (16 rec)  |

---

## Common Issues and Solutions

### 1. Missing META-INF Files

**Symptom:** Mod not recognized by loader, "File is not a valid mod file" error

**Cause:** Missing or incorrectly placed metadata files

**Solution:**
- Fabric: Ensure `fabric.mod.json` is in JAR root
- Forge: Ensure `mods.toml` is in `META-INF/mods.toml`
- NeoForge: Ensure `neoforge.mods.toml` (1.20.5+) or `mods.toml` (1.20.1-1.20.4) is in `META-INF/`

**Gradle Check:**
```kotlin
tasks.jar {
    from("src/main/resources") {
        include("fabric.mod.json")
        include("META-INF/**")
    }
}
```

### 2. Invalid Mod ID

**Symptom:** Mod fails to load with "Invalid mod ID" error

**Cause:** Mod ID contains invalid characters or is too short/long

**Rules:**
- 3-64 characters (Fabric)
- Lowercase letters, numbers, dashes (`-`), underscores (`_`) only
- No uppercase, spaces, or special characters

**Valid:** `examplemod`, `example-mod`, `example_mod`, `mod123`
**Invalid:** `ExampleMod`, `example mod`, `example.mod`, `ex`

### 3. Dependency Not Loading

**Symptom:** Dependency classes not found, ClassNotFoundException

**Cause:** External dependencies without proper MANIFEST.MF

**Solution (Forge/NeoForge):**
Add to dependency JAR's `META-INF/MANIFEST.MF`:
```
Manifest-Version: 1.0
FMLModType: LIBRARY
Automatic-Module-Name: com.example.library
```

### 4. Mixin Not Applied

**Symptom:** Mixin target not modified, game crashes or features don't work

**Causes & Solutions:**

**Fabric:**
- Missing mixin config in `fabric.mod.json`: Add `"mixins": ["modid.mixins.json"]`
- Incorrect package in mixin config: Verify `"package"` matches actual mixin location
- Naming convention: Use `*.mixins.json` filename pattern for auto-refmap

**Forge/NeoForge:**
- Mixins not officially supported by Forge/NeoForge
- Use MixinBootstrap or similar compatibility layer
- Consider using Access Transformers instead

### 5. Resources Not Loading

**Symptom:** Textures missing, recipes not working, missing translations

**Cause:** Incorrect resource pack structure

**Solution:**
```
src/main/resources/
├── assets/
│   └── <modid>/           # Must match mod ID exactly
│       ├── lang/
│       │   └── en_us.json # Lowercase with underscore
│       ├── textures/
│       ├── models/
│       └── blockstates/
└── data/
    └── <modid>/           # Must match mod ID exactly
        ├── recipes/
        └── loot_tables/
```

**Naming Rules:**
- All lowercase
- Use `_` for word boundaries (snake_case)
- Resource paths use `/` separator
- Example: `assets/examplemod/textures/item/example_item.png`

### 6. Version Range Issues

**Symptom:** "Dependency version requirement not met" error

**Cause:** Incorrect Maven version range format

**Maven Version Range Reference:**
- `[1.0,)` - Version 1.0 or higher (inclusive)
- `[1.0,2.0)` - Version 1.0 to 2.0 (1.0 inclusive, 2.0 exclusive)
- `(1.0,2.0)` - Between 1.0 and 2.0 (both exclusive)
- `[1.0]` - Exactly version 1.0
- `~1.20.1` - Fabric format: 1.20.1 (tilde notation)

**Correct Examples:**
```toml
# Forge/NeoForge
versionRange="[46,)"         # 46 or higher
versionRange="[1.20.1,1.21)" # 1.20.1 to 1.21 (exclusive)

# Fabric
"minecraft": "~1.20.1"       # Minecraft 1.20.1
"fabricloader": ">=0.14.0"   # Loader 0.14.0 or higher
```

### 7. ServiceLoader Not Finding Implementation

**Symptom:** Platform abstraction not working, service implementation not loaded

**Cause:** Missing or incorrect ServiceLoader configuration

**Solution:**

**File Location:** `META-INF/services/<fully-qualified-interface>`

**Example for Platform Abstraction:**

1. Create service interface:
```java
package com.example.api;
public interface PlatformHelper {
    String getPlatformName();
}
```

2. Create implementation:
```java
package com.example.fabric;
public class FabricPlatformHelper implements PlatformHelper {
    @Override
    public String getPlatformName() {
        return "Fabric";
    }
}
```

3. Create service file:
`META-INF/services/com.example.api.PlatformHelper`
```
com.example.fabric.FabricPlatformHelper
```

4. Load service:
```java
ServiceLoader<PlatformHelper> loader = ServiceLoader.load(PlatformHelper.class);
PlatformHelper helper = loader.findFirst().orElseThrow();
```

### 8. Access Widener/Transformer Not Working

**Fabric Access Widener:**
1. Create `.accesswidener` file in resources root
2. Reference in `fabric.mod.json`: `"accessWidener": "modid.accesswidener"`
3. Configure in `build.gradle`:
```kotlin
loom {
    accessWidenerPath.set(file("src/main/resources/modid.accesswidener"))
}
```

**Forge/NeoForge Access Transformer:**
1. Create `META-INF/accesstransformer.cfg`
2. No additional configuration needed if using default location
3. Verify syntax: `public net.minecraft.class.Name methodName()V`

---

## Package Structure Best Practices

### Recommended Package Organization

```
com.example.examplemod/
├── ExampleMod.java              # Main mod class
├── client/                      # Client-only code
│   ├── ExampleModClient.java
│   ├── renderer/
│   └── screen/
├── common/                      # Common code
│   ├── block/
│   │   ├── ExampleBlock.java
│   │   └── ModBlocks.java       # Block registration
│   ├── item/
│   │   ├── ExampleItem.java
│   │   └── ModItems.java        # Item registration
│   ├── entity/
│   └── util/
├── mixin/                       # Mixins (Fabric)
│   ├── ExampleMixin.java
│   └── client/
│       └── ExampleClientMixin.java
└── platform/                    # Platform abstraction
    ├── PlatformHelper.java      # Interface
    └── Services.java            # ServiceLoader accessor
```

### Naming Conventions

**Packages:**
- All lowercase
- Use company/author domain reversed: `com.example.modid`
- Organize by function or feature
- Keep client code in `client` subpackage

**Classes:**
- PascalCase
- Suffix with type: `ExampleBlock`, `ExampleItem`, `ExampleEntity`
- Registration classes: `ModBlocks`, `ModItems`, `ModEntities`

**Resources:**
- snake_case (lowercase with underscores)
- Examples: `example_block.json`, `example_item.png`, `en_us.json`

### Multi-Loader Project Structure

For projects supporting multiple loaders:

```
project/
├── common/                      # Shared code
│   └── src/main/java/
│       └── com/example/mod/
│           ├── ExampleMod.java
│           ├── block/
│           ├── item/
│           └── platform/
│               └── PlatformHelper.java
├── fabric/                      # Fabric-specific
│   └── src/main/
│       ├── java/
│       │   └── com/example/mod/
│       │       ├── ExampleModFabric.java
│       │       └── platform/
│       │           └── FabricPlatformHelper.java
│       └── resources/
│           ├── fabric.mod.json
│           └── modid.mixins.json
├── forge/                       # Forge-specific
│   └── src/main/
│       ├── java/
│       │   └── com/example/mod/
│       │       ├── ExampleModForge.java
│       │       └── platform/
│       │           └── ForgePlatformHelper.java
│       └── resources/
│           └── META-INF/
│               ├── mods.toml
│               └── services/
│                   └── com.example.mod.platform.PlatformHelper
└── neoforge/                    # NeoForge-specific
    └── src/main/
        ├── java/
        │   └── com/example/mod/
        │       ├── ExampleModNeoForge.java
        │       └── platform/
        │           └── NeoforgePlatformHelper.java
        └── resources/
            └── META-INF/
                ├── neoforge.mods.toml
                └── services/
                    └── com.example.mod.platform.PlatformHelper
```

### JAR Validation Checklist

Before releasing, verify your JAR contains:

**Fabric:**
- [ ] `fabric.mod.json` in JAR root
- [ ] Valid schema version (`schemaVersion: 1`)
- [ ] Correct mod ID (3-64 chars, lowercase, no special chars)
- [ ] Environment specified (`*`, `client`, or `server`)
- [ ] All entrypoint classes exist
- [ ] Mixin configs present if specified
- [ ] Access widener file present if specified
- [ ] Icon file exists at specified path
- [ ] All dependencies listed
- [ ] Resources in correct `assets/<modid>/` structure

**Forge/NeoForge:**
- [ ] `mods.toml` or `neoforge.mods.toml` in `META-INF/`
- [ ] Correct loader version for Minecraft version
- [ ] Valid mod ID format
- [ ] License specified
- [ ] Dependencies use correct mod ID (`forge` vs `neoforge`)
- [ ] Version ranges use Maven format
- [ ] Service files in `META-INF/services/` if using ServiceLoader
- [ ] Access transformer in `META-INF/` if used
- [ ] `MANIFEST.MF` configured for libraries
- [ ] Resources in correct `assets/<modid>/` structure

**All Loaders:**
- [ ] Package structure follows conventions
- [ ] Client-only code isolated
- [ ] Resource names are snake_case
- [ ] Mod ID matches in all metadata files
- [ ] No uppercase in resource paths
- [ ] All referenced files exist in JAR
- [ ] JAR built with correct Gradle configuration

---

## Additional Resources

### Official Documentation

**Fabric:**
- [Fabric Wiki](https://fabricmc.net/wiki/)
- [fabric.mod.json Specification](https://fabricmc.net/wiki/documentation:fabric_mod_json_spec)
- [Fabric Loader Documentation](https://fabricmc.net/wiki/documentation:fabric_loader)
- [Access Wideners Tutorial](https://fabricmc.net/wiki/tutorial:accesswideners)
- [Fabric Documentation](https://docs.fabricmc.net/)

**NeoForge:**
- [NeoForge Documentation](https://docs.neoforged.net/)
- [Mod Files Guide](https://docs.neoforged.net/docs/gettingstarted/modfiles/)
- [NeoForge GitHub](https://github.com/neoforged/NeoForge)

**Forge:**
- [Forge Documentation](https://docs.minecraftforge.net/)
- [The Mod Files](https://docs.minecraftforge.net/en/1.20.1/gettingstarted/modfiles/)
- [Structuring Your Mod](https://docs.minecraftforge.net/en/latest/gettingstarted/structuring/)
- [Forge Community Wiki](https://forge.gemwire.uk/wiki/)

### Community Resources

- [Architectury Documentation](https://docs.architectury.dev/) - Multi-loader development
- [Minecraft Forge Forums](https://forums.minecraftforge.net/)
- [Fabric Discord](https://discord.gg/v6v4pMv)
- [ModDevWiki](https://moddevwiki.com/) - Community modding wiki

---

## Version History

**Document Version:** 1.0.0
**Last Updated:** 2026-02-09
**Minecraft Versions Covered:** 1.16.5 - 1.21.1
**Loaders Covered:** Fabric, Forge, NeoForge

This document is based on official documentation and community resources current as of February 2026.
